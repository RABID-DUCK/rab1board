"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[553],{362:(a,e,t)=>{t.d(e,{Z:()=>o});var s=t(879),n=t.n(s)()((function(a){return a[1]}));n.push([a.id,".close-modal[data-v-06fc44de]{z-index:1}",""]);const o=n},433:(a,e,t)=>{t.d(e,{Z:()=>o});var s=t(879),n=t.n(s)()((function(a){return a[1]}));n.push([a.id,".wrapper-dash[data-v-68dde624]{max-width:400px}.list-dashboards[data-v-68dde624]{display:flex;flex-wrap:wrap;justify-content:space-around}",""]);const o=n},553:(a,e,t)=>{t.r(e),t.d(e,{default:()=>z});var s=t(821),n=function(a){return(0,s.dD)("data-v-68dde624"),a=a(),(0,s.Cn)(),a},o={class:"panel main-content"},d={class:"row",id:"dashboard-list"},r={key:0,class:"unuathorized d-flex flex-column"},i=n((function(){return(0,s._)("b",{class:"text-center"},[(0,s.Uk)("Чтобы создавать проекты нужно авторизоваться! "),(0,s._)("i",{class:"bi bi-emoji-smile"})],-1)})),c=(0,s.Uk)("Авторизоваться"),l=n((function(){return(0,s._)("b",{class:"text-center mb-5"},[(0,s.Uk)("Здесь будут ваши рабочие проекты "),(0,s._)("i",{class:"bi bi-emoji-smile"})],-1)})),u={key:1},h={key:0,class:"authorize list-dashboards"},p={class:"col-sm-6 mb-3 mb-sm-0 wrapper-dash"},b={class:"card"},f={class:"card-body"},m={class:"card-title"},g=n((function(){return(0,s._)("a",{class:"card-users"},[(0,s._)("img",{src:"/images/avatar_none.png",alt:"Аватар по умолчанию"})],-1)})),v=(0,s.Uk)("Перейти в проект"),w={key:1,class:"d-flex flex-column"};var _={class:"close-modal",id:"modal-desk"};const k={name:"ClosePanel"};var D=t(379),C=t.n(D),y=t(362),x={insert:"head",singleton:!1};C()(y.Z,x);y.Z.locals;var M=t(744);const Z={name:"MainPage",components:{ClosePanel:(0,M.Z)(k,[["render",function(a,e,t,n,o,d){return(0,s.wg)(),(0,s.iD)("span",_,"X")}],["__scopeId","data-v-06fc44de"]]),AddPanel:t(822).Z},data:function(){return{dashboards:[],dash_title:"",created:!1}},watch:{"$store.getters.statusUser":function(a){a&&this.getDashboards()}},methods:{openCreateDashboardModal:function(){this.created=!0},createDashboard:function(a){var e=this;this.created=!0,fetch("/api/dashboard/create",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({title:a.info,user_id:this.$store.state.auth.user.id})}).then((function(a){return a.json()})).then((function(a){401!==a.status?(e.created=!1,e.dash_title="",e.getDashboards(),e.closeModal()):alert(a.message)}))},getDashboards:function(){var a=this;this.axios.get("/api/getDashboards",{headers:{Authorization:"Bearer ".concat(this.$store.getters.getToken)}}).then((function(e){a.dashboards=e.data}))},closeModal:function(){this.created=!1}}};var j=t(433),U={insert:"head",singleton:!1};C()(j.Z,U);j.Z.locals;const z=(0,M.Z)(Z,[["render",function(a,e,t,n,_,k){var D=(0,s.up)("router-link"),C=(0,s.up)("add-panel");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",d,[this.$store.getters.statusUser?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("section",r,[i,(0,s.Wm)(D,{to:"/login",class:"btn btn-login"},{default:(0,s.w5)((function(){return[c]})),_:1})])),l,this.$store.getters.statusUser?((0,s.wg)(),(0,s.iD)("div",u,[_.dashboards?((0,s.wg)(),(0,s.iD)("section",h,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(_.dashboards,(function(e){return(0,s.wg)(),(0,s.iD)("div",p,[(0,s._)("div",b,[(0,s._)("div",f,[(0,s._)("h5",m,(0,s.zw)(e.title),1),g,(0,s.Wm)(D,{to:{name:"dashboard",params:{id:a.coder(e.id),title:e.title}},class:"btn btn-search"},{default:(0,s.w5)((function(){return[v]})),_:2},1032,["to"])])])])})),256))])):(0,s.kq)("",!0),_.created?((0,s.wg)(),(0,s.j4)(C,{key:2,"place-holder":"Придумайте название","class-props":"card-body add-dashboard-panel animate-window",onInfoComponent:k.createDashboard,onCloseModal:k.closeModal,label_title:"Название проекта"},null,8,["onInfoComponent","onCloseModal"])):((0,s.wg)(),(0,s.iD)("section",w,[(0,s._)("button",{class:"btn w-75 add-dashboard",id:"btn-create-dashboard",onClick:e[0]||(e[0]=(0,s.iM)((function(){return k.openCreateDashboardModal&&k.openCreateDashboardModal.apply(k,arguments)}),["prevent"]))},"Добавить проект")]))])):(0,s.kq)("",!0)])])}],["__scopeId","data-v-68dde624"]])}}]);